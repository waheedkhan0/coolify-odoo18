[options]
; Master password for database operations
admin_passwd = ${ADMIN_PASSWD}

; Database connection settings (replaced by environment variables)
db_host = ${DB_HOST}
db_port = ${DB_PORT}
db_user = ${DB_USER}
db_password = ${DB_PASSWORD}
db_name = ${DB_NAME}

; Server configuration
http_port = 8069

; Logging configuration
log_level = info
logfile = False

; Worker processes (adjust based on server resources)
workers = 0
max_cron_threads = 2

; Security settings
list_db = True

; Data storage directory
data_dir = /var/lib/odoo

; Core modules to load
server_wide_modules = base,web

; Database filter (restrict access to configured database only)
dbfilter = ^${DB_NAME}$

; Resource limits
limit_memory_hard = 2684354560
limit_memory_soft = 2147483648
limit_request = 8192
limit_time_cpu = 600
limit_time_real = 1200
limit_time_real_cron = -1

# ADDON PATHS
addons_path = /mnt/extra-addons,/usr/lib/python3/dist-packages/odoo/addons

; Proxy mode (required for reverse proxies like Coolify/Traefik)
proxy_mode = True

; Production mode (disable development features)
dev_mode = False
